#config_version=5
hardware:
    platform: virtual_pinball
#hardware:
#    platform: opp
#    driverboards: gen2

#opp:
#    ports: COM3, COM4
#    chains:
#        0: COM4
#        1: COM3

modes: # for a mode to be seen by mpf it needs to be in this list otherwise it will be ignored
  - base
  - soulLanes
  - bonus
  - standUps
  - dashLit
  - knockOut
  - inLanes
  - outLanes
  - cupSling
  - mugSling
  - perdition
  - perdition_multiball
  - multiball_fail
  - tilt
  - extraBall

player_vars: #these are player variables that can be seen by all modes
  bonus_multiplier:
    value_type: int
    initial_value: 1

  contracts:
    value_type: int
    initial_value: 0
  dice_pips:
    value_type: int
    initial_value: 0
  perdition_value:
    value_type: int
    initial_value: 0

playfields:
  playfield:
    tags: default
    default_source_device: bd_trough # bd_plunger

config: # for a cleaner config file these have all been spit out to their own files
  - keyboard.yaml
  - hwSwitches.yaml
  - hwLights.yaml
  - hwCoils.yaml
  - sound.yaml

window:
  width: 1080
  height: 1300
  title: CupheadWindow
  resizable: true
  fullscreen: false
  borderless: true
  exit_on_escape: true
  top: 0
  left: 0

displays:
  window:
    width: 1080
    height: 1300
  upper:
    width: 1080
    height: 300
  middle:
    width: 1080
    height: 600
  lower:
    width: 1080
    height: 300

slides:
  layout:
    background_color: 000099
    widgets:
      - type: display
        width: 1080
        height: 300
        x: 0
        y: 1300
        anchor_x: left
        anchor_y: top
        source_display: upper
      - type: display
        width: 1080
        height: 600
        x: 0
        y: 950
        anchor_x: left
        anchor_y: top
        source_display: middle
      - type: display
        width: 1080
        height: 300
        x: 0
        y: 300
        anchor_x: left
        anchor_y: top
        source_display: lower
  score_slide:
    widgets:
    - type: image
      image: score
      z: 100
  topper_slide:
    widgets:
    - type: image
      image: topper
  knockout_slide:
    expire: 2s
    widgets:
    - type: image
      image: knockout_image
  fast_run_slide:
    widgets:
    - type: image
      image: fast_run_image
      fps: 30
  beppi_slide:
    widgets:
    - type: video
      video: beppi
      end_behavior: loop
      z: 10
  cagney_slide:
    widgets:
    - type: video
      video: cagney
      end_behavior: loop
      z: 10
  calla_slide:
    widgets:
    - type: video
      video: calla
      end_behavior: loop
      z: 10
  capt_slide:
    widgets:
    - type: video
      video: capt
      end_behavior: loop
      z: 10
  hilda_slide:
    widgets:
    - type: video
      video: hilda
      end_behavior: loop
      z: 10
  ribbi_slide:
    widgets:
    - type: video
      video: ribbi
      end_behavior: loop
      z: 10
  robot_slide:
    widgets:
    - type: video
      video: robot
      end_behavior: loop
      z: 10
  root_slide:
    widgets:
    - type: video
      video: root
      end_behavior: loop
      z: 1
  train_slide:
    widgets:
    - type: video
      video: train
      end_behavior: loop
      z: 10
  wally_slide:
    widgets:
    - type: video
      video: wally
      end_behavior: loop
      z: 10
  base_slide:
    widgets:
    - type: text
      text: (score)
      number_grouping: true
      min_digits: 2
      font_size: 100
    - type: text
      text: Player (player)
      y: 10
      x: 10
      font_size: 30
      anchor_x: left
      anchor_y: bottom
    - type: text
      text: BALL (ball)
      y: 10
      x: right-10
      anchor_x: right
      anchor_y: bottom
      font_size: 50
  title_slide:
    widgets:
    - type: image
      image: title_image
      z: 2
      fps: 30
  a_beppi:
    widgets:
    - type: video
      video: a_beppi
      z: 10
  a_cagney:
    widgets:
    - type: video
      video: a_cagney
      z: 10
  a_calla:
    widgets:
    - type: video
      video: a_calla
      z: 10
  a_capt:
    widgets:
    - type: video
      video: a_capt
      z: 10
  a_hilda:
    widgets:
    - type: video
      video: a_hilda
      z: 10
  a_ribbi:
    widgets:
    - type: video
      video: a_ribbi
      z: 10
  a_robot:
    widgets:
    - type: video
      video: a_robot
      z: 10
  a_root:
    widgets:
    - type: video
      video: a_root
      z: 10
  a_train:
    widgets:
    - type: video
      video: a_train
      z: 10
  a_wally:
    widgets:
    - type: video
      video: a_wally
      z: 10


  finger_slide:
    widgets:
    - type: image
      image: start_backdrop_image
      z: 1
    - type: image
      image: finger_image
      x: -1080
      z: 10
      anchor_x: left
      animations:
        show_slide:
          - property: x
            value: -1080
            duration: .1s
          - property: opacity
            value: 1
          - property: x
            value: 0
            duration: .25s
          - property: x
            value: 0
            relative: true
            duration: 2s
          - property: x
            value: 1080
            duration: .25s
          - property: opacity
            value: 0
            repeat: true
            duration: .1s

slide_player:
  mc_ready:
    layout:
      target: window

score_reels:
  score_reel11:
    coil_inc: c_reel_11
    switch_0: reel0
    switch_1: reel1
    switch_2: reel2
    switch_3: reel3
    switch_4: reel4
    switch_5: reel5
    switch_6: reel6
    switch_7: reel7
    switch_8: reel8
    switch_9: reel9
    limit_hi: 9
    limit_lo: 0

score_reel_groups:
  player1:
    reels: score_reel11, None
    tags: player1

drop_targets: # this configs each switch to a drop target
  cup_C:
    switch: s_dt_C
  cup_U:
    switch: s_dt_U
  cup_P:
    switch: s_dt_P
  mug_M:
    switch: s_dt_M
  mug_U:
    switch: s_dt_U2
  mug_G:
    switch: s_dt_G

drop_target_banks: # this assigns the drop targets to their banks and sets parameters
  cup_bank:
    drop_targets: cup_C, cup_U, cup_P
    reset_coils: c_dt_reset_CUP
    reset_on_complete: 500ms
    reset_events:
      - drop_target_bank_cup_bank_down
      - ball_starting
      - machine_reset_phase_3
  mug_bank:
    drop_targets: mug_M, mug_U, mug_G
    reset_coils: c_dt_reset_MUG
    reset_on_complete: 500ms
    reset_events:
      - drop_target_bank_mug_bank_down
      - ball_starting
      - machine_reset_phase_3

game:
  balls_per_game: 5
  max_players: 4


#videos:
#    CHvideo:
#    width: 100
#    height: 70
#    file: CHvideo.mp4


#event_player:
#  ball_starting:
#    cmd_drop_targets_reset
#    cmd_flippers_enable
#    cmd_autofire_coils_enable
#  tilt:
#    cmd_flippers_disable
#    cmd_autofire_coils_disable
#  ball_ending:
#    cmd_flippers_disable
#    cmd_autofire_coils_disable
